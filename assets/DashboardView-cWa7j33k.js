import{u as L,a as z,r as Y,b as E}from"./component-functions-B3Lc5BsT.js";import{m as w,_ as g,o as u,c as m,a as s,b as c,n as l,w as p,d as $,e as A,f as b,F as M,r as f,t as V,g as B,h as K,i as Z}from"./index-CANkekuL.js";import{r as R,a as W,b as G,c as J,g as X}from"./selector-engine-BAtv4zJi.js";const tt={data(){return{myAddedNts:0,lastScrollY:0,isNavHidden:!1}},computed:{showSearch(){return!(this.$route.path==="/"||this.$route.path==="/nutrition_label"||this.$route.path==="/mark_items"||this.$route.path==="/QA")},currentPlaceHolder(){return this.$route.path==="/product_list"?"產品名稱":this.$route.path==="/customize_list"?"自定義資料品名":this.$route.path==="/added_customize_nts"?"中文或英文營養素名稱":""}},methods:{...w(L,["searchProducts"]),...w(z,["searchAddedNts","searchCustomizeList"]),getMyAddedNtsList(){const e=JSON.parse(localStorage.getItem("myAddedNts"))||[];this.myAddedNts=e.length},search(e){const t=e.target.value.trim(),r=this.$router.currentRoute._value.fullPath;r==="/added_customize_nts"&&this.searchAddedNts(t),r==="/customize_list"&&this.searchCustomizeList(t),r==="/product_list"&&this.searchProducts(t)},handleScroll(){const e=window.scrollY;e>150&&(this.isNavHidden=!0),e<this.lastScrollY&&(this.isNavHidden=!1),this.lastScrollY=e}},created(){this.getMyAddedNtsList()},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},et={class:"d-none d-lg-block px-3 navbar navbar-expand-lg fixed-top bg-light"},st={class:"container-fluid"},ot={class:"navbar-collapse"},at={class:"navbar-nav align-items-center"},nt={key:0,class:"",role:"search"},rt={class:"position-relative col-lg-auto"},it=["placeholder"],lt={class:"d-block d-lg-none navbar fixed-bottom bg-light"},ct={class:"container-fluid w-100"},dt={class:"col-12 d-flex align-items-center text-center"};function ut(e,t,r,i,d,n){const o=f("router-link");return u(),m(M,null,[s("nav",et,[s("div",st,[s("div",ot,[s("div",at,[c(o,{to:"/",class:l(["bi bi-house-fill fs-4 text-secondary nav-link",e.$route.path==="/"?"active fw-bold":""])},null,8,["class"]),c(o,{to:"/nutrition_label",class:l(["nav-link",e.$route.path==="/nutrition_label"?"active fw-bold":""])},{default:p(()=>t[1]||(t[1]=[$(" 新增營養標示 ")])),_:1},8,["class"]),c(o,{to:"/product_list",class:l(["nav-link",e.$route.path==="/product_list"?"active fw-bold":""])},{default:p(()=>t[2]||(t[2]=[$(" 產品列表 ")])),_:1},8,["class"]),c(o,{to:"/customize_list",class:l(["nav-link",e.$route.path==="/customize_list"?"active fw-bold":""])},{default:p(()=>t[3]||(t[3]=[$(" 自定義資料庫 ")])),_:1},8,["class"]),d.myAddedNts>0?(u(),A(o,{key:0,to:"/added_customize_nts",class:l(["nav-link",e.$route.path==="/added_customize_nts"?"active fw-bold":""])},{default:p(()=>t[4]||(t[4]=[$(" 已新增營養素清單 ")])),_:1},8,["class"])):b("",!0),c(o,{to:"/QA",class:l(["nav-link",e.$route.path==="/QA"?"active fw-bold":""])},{default:p(()=>t[5]||(t[5]=[$(" QA ")])),_:1},8,["class"])])]),n.showSearch?(u(),m("form",nt,[s("div",rt,[t[6]||(t[6]=s("i",{class:"bi bi-search position-absolute text-secondary"},null,-1)),s("input",{onInput:t[0]||(t[0]=v=>n.search(v)),class:"form-control me-2 searchInput",type:"search",placeholder:n.currentPlaceHolder,"aria-label":"Search"},null,40,it)])])):b("",!0)])]),e.$route.path==="/"?(u(),m("nav",{key:0,class:l(["moveNav py-1 d-block d-lg-none navbar bg-light bg-opacity-75 fixed-top",{hidden:d.isNavHidden}])},t[7]||(t[7]=[s("div",{class:"container-fluid w-100"},[s("p",{class:"text-center w-100 mb-0"},"營樣標示工具"),s("p",{class:"text-center w-100 mb-0"},"Nutrition Label Tool")],-1)]),2)):b("",!0),s("nav",lt,[s("div",ct,[s("div",dt,[c(o,{to:"/",class:l(["col nav-link",e.$route.path==="/"?"active fw-bold":""])},{default:p(()=>t[8]||(t[8]=[s("i",{class:"bi bi-house-fill fs-4"},null,-1),s("p",{class:"xs-md-textStyle mb-0 adjustFZ"},"首頁",-1)])),_:1},8,["class"]),c(o,{to:"/nutrition_label",class:l(["col nav-link",e.$route.path==="/nutrition_label"?"active fw-bold":""]),"aria-current":"page"},{default:p(()=>t[9]||(t[9]=[s("i",{class:"bi bi-plus-square fs-4"},null,-1),s("p",{class:"xs-md-textStyle mb-0 adjustFZ"},"新增標示",-1)])),_:1},8,["class"]),c(o,{to:"/product_list",class:l(["col nav-link",e.$route.path==="/product_list"?"active fw-bold":""])},{default:p(()=>t[10]||(t[10]=[s("i",{class:"bi bi-postcard fs-4"},null,-1),s("p",{class:"xs-md-textStyle mb-0 adjustFZ"},"產品列表",-1)])),_:1},8,["class"]),c(o,{to:"/customize_list",class:l(["col nav-link",e.$route.path==="/customize_list"?"active fw-bold":""])},{default:p(()=>t[11]||(t[11]=[s("i",{class:"bi bi-pen fs-4"},null,-1),s("p",{class:"xs-md-textStyle mb-0 adjustFZ"},"自定義",-1)])),_:1},8,["class"]),d.myAddedNts>0?(u(),A(o,{key:0,to:"/added_customize_nts",class:l(["col nav-link",e.$route.path==="/added_customize_nts"?"active fw-bold":""])},{default:p(()=>t[12]||(t[12]=[s("i",{class:"bi bi-folder-plus fs-4"},null,-1),s("p",{class:"xs-md-textStyle mb-0 adjustFZ"},"＋營養素",-1)])),_:1},8,["class"])):b("",!0),c(o,{to:"/QA",class:l(["col nav-link",e.$route.path==="/QA"?"active fw-bold":""])},{default:p(()=>t[13]||(t[13]=[s("i",{class:"bi bi-question-circle fs-4"},null,-1),s("p",{class:"xs-md-textStyle mb-0 adjustFZ"},"QA",-1)])),_:1},8,["class"])])])])],64)}const ht=g(tt,[["render",ut],["__scopeId","data-v-7cd3b8fc"]]);var F={exports:{}};/*!
  * Bootstrap toast.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,t){(function(r,i){e.exports=i(R(),W(),Y(),G())})(J,function(r,i,d,n){const o="toast",_=".bs.toast",N=`mouseover${_}`,k=`mouseout${_}`,C=`focusin${_}`,P=`focusout${_}`,D=`hide${_}`,O=`hidden${_}`,j=`show${_}`,H=`shown${_}`,Q="fade",T="hide",S="show",x="showing",q={animation:"boolean",autohide:"boolean",delay:"number"},U={animation:!0,autohide:!0,delay:5e3};class y extends r{constructor(a,h){super(a,h),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return U}static get DefaultType(){return q}static get NAME(){return o}show(){if(i.trigger(this._element,j).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Q);const h=()=>{this._element.classList.remove(x),i.trigger(this._element,H),this._maybeScheduleHide()};this._element.classList.remove(T),n.reflow(this._element),this._element.classList.add(S,x),this._queueCallback(h,this._element,this._config.animation)}hide(){if(!this.isShown()||i.trigger(this._element,D).defaultPrevented)return;const h=()=>{this._element.classList.add(T),this._element.classList.remove(x,S),i.trigger(this._element,O)};this._element.classList.add(x),this._queueCallback(h,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(S),super.dispose()}isShown(){return this._element.classList.contains(S)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(a,h){switch(a.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=h;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=h;break}}if(h){this._clearTimeout();return}const I=a.relatedTarget;this._element===I||this._element.contains(I)||this._maybeScheduleHide()}_setListeners(){i.on(this._element,N,a=>this._onInteraction(a,!0)),i.on(this._element,k,a=>this._onInteraction(a,!1)),i.on(this._element,C,a=>this._onInteraction(a,!0)),i.on(this._element,P,a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const h=y.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof h[a]>"u")throw new TypeError(`No method named "${a}"`);h[a](this)}})}}return d.enableDismissTrigger(y),n.defineJQueryPlugin(y),y})})(F);var mt=F.exports;const pt=X(mt),_t={data(){return{toastEle:null}},props:["msg"],methods:{iconStyle(e){return e==="success"?"bi bi-check-circle-fill text-success":e==="failure"?"bi bi-x-circle-fill text-danger":""}},mounted(){const e=this.$refs.toast;this.toastEle=new pt(e,{delay:6e3}),this.toastEle.show()}},ft={ref:"toast",class:"toast align-items-center",role:"alert","aria-live":"assertive","aria-atomic":"true"},bt={class:"d-flex"},vt={class:"toast-body d-flex align-items-center"},gt={class:"mb-0 fs-6 ps-1"};function yt(e,t,r,i,d,n){return u(),m("div",ft,[s("div",bt,[s("div",vt,[s("i",{class:l(["fs-4 me-2",n.iconStyle(r.msg.style)])},null,2),s("p",gt,V(r.msg.title),1)]),t[0]||(t[0]=s("button",{type:"button",class:"btn-close me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1))])],512)}const $t=g(_t,[["render",yt]]),wt={data(){return{toastEle:null,localMsg:[]}},components:{ToastComponent:$t},computed:{...B(E,["message"])},watch:{message:{handler(e){this.localMsg=[...e]},deep:!0,immediate:!0}}},St={class:"sticky-top"},xt={"aria-live":"polite","aria-atomic":"true",class:"position-relative"},Nt={class:"toast-container top-0 end-0 p-3"};function kt(e,t,r,i,d,n){const o=f("ToastComponent");return u(),m("div",St,[s("div",xt,[s("div",Nt,[(u(!0),m(M,null,K(d.localMsg,v=>(u(),A(o,{key:v,msg:v},null,8,["msg"]))),128))])])])}const Ct=g(wt,[["render",kt],["__scopeId","data-v-53579e9a"]]),Et={data(){return{}},computed:{...B(E,["alert","alertText"])},methods:{...w(E,["closeAlert"])}},At={key:0,class:"alertPosition translate-middle alert alert-danger d-flex justify-content-between fade show",role:"alert"},Tt={class:"mb-0 fw-bold pe-3"};function It(e,t,r,i,d,n){return e.alert?(u(),m("div",At,[s("p",Tt,V(e.alertText),1),s("button",{onClick:t[0]||(t[0]=(...o)=>e.closeAlert&&e.closeAlert(...o)),type:"button",class:"btn-close","aria-label":"Close"})])):b("",!0)}const Lt=g(Et,[["render",It],["__scopeId","data-v-720bbd95"]]),zt={data(){return{bar:!1}},computed:{showSearch(){return!(this.$route.path==="/"||this.$route.path==="/nutrition_label"||this.$route.path==="/mark_items"||this.$route.path==="/QA")},currentPlaceHolder(){return this.$route.path==="/product_list"?"產品名稱":this.$route.path==="/customize_list"?"自定義資料品名":this.$route.path==="/added_customize_nts"?"中文或英文營養素名稱":""}},methods:{...w(L,["searchProducts"]),...w(z,["searchAddedNts","searchCustomizeList"]),showSearchBar(){this.bar=!0},closeSearchBar(){this.bar=!1},search(e){const t=e.target.value.trim(),r=this.$router.currentRoute._value.fullPath;r==="/added_customize_nts"&&this.searchAddedNts(t),r==="/customize_list"&&this.searchCustomizeList(t),r==="/product_list"&&this.searchProducts(t)}}},Mt=["placeholder"];function Vt(e,t,r,i,d,n){return n.showSearch?(u(),m("main",{key:0,class:l(["wrap ms-auto mt-3 me-3 d-flex justify-content-end align-items-center",d.bar?"openBar":""])},[s("form",{class:l([d.bar?"show":"","me-2 p-1 search-form"])},[s("input",{onInput:t[0]||(t[0]=o=>n.search(o)),class:"form-control w-100",placeholder:n.currentPlaceHolder,type:"search",name:"searchBar",id:"searchBar"},null,40,Mt)],2),d.bar?b("",!0):(u(),m("button",{key:0,onClick:t[1]||(t[1]=(...o)=>n.showSearchBar&&n.showSearchBar(...o)),type:"button",class:"btn btn-outline-primary bi bi-search rounded-circle bg-primary bg-opacity-25 border-0"})),d.bar?(u(),m("button",{key:1,onClick:t[2]||(t[2]=(...o)=>n.closeSearchBar&&n.closeSearchBar(...o)),type:"button",class:"btn btn-outline-primary rounded bg-primary bg-opacity-25 border-0"}," 關閉 ")):b("",!0)],2)):b("",!0)}const Bt=g(zt,[["render",Vt],["__scopeId","data-v-3c3a18de"]]),Ft={},Pt={class:"bg-primary text-light px-4 pb-5 pt-4 mb-5 py-lg-4 mb-lg-0 py-2 d-flex flex-wrap justify-content-between align-items-center"};function Dt(e,t){return u(),m("div",Pt,t[0]||(t[0]=[Z('<p class="col-12 col-lg-6 mb-0" data-v-440ca96b> noitice icons by <a class="text-decoration-none text-light" target="_blank" href="https://icons8.com" data-v-440ca96b> Icons8 </a></p><div class="col-12 col-lg-6 d-flex flex-wrap align-items-center" data-v-440ca96b><p class="mb-0 pe-1 inline-block col-lg col-xs-auto text-xs-start text-lg-end" data-v-440ca96b> © 2025 營養標示工具 </p><span class="inline-block" data-v-440ca96b>Nutrition Label Tool</span></div>',2)]))}const Ot=g(Ft,[["render",Dt],["__scopeId","data-v-440ca96b"]]),jt={data(){return{}},components:{NavbarComponent:ht,MessageComponent:Ct,AlertComponent:Lt,SearchBarComponent:Bt,FooterComponent:Ot}},Ht={class:"d-flex flex-column justify-content-between wrap"};function Qt(e,t,r,i,d,n){const o=f("NavbarComponent"),v=f("SearchBarComponent"),_=f("MessageComponent"),N=f("AlertComponent"),k=f("RouterView"),C=f("FooterComponent");return u(),m("div",Ht,[s("div",null,[c(o),c(v,{class:"d-block d-lg-none fixed-top"}),c(_,{ref:"toast"},null,512),c(N),c(k,{class:"pt-5 pt-lg-5 mt-lg-5"})]),s("div",null,[c(C)])])}const Kt=g(jt,[["render",Qt],["__scopeId","data-v-29d4f77e"]]);export{Kt as default};
